{% extends "base.html" %}

{% block content %}
<main class="feed">
    <div class="feed-header">
        <h2>Job Opportunities</h2>
        <div style="display:flex; gap:10px;">
            <span class="pill active">All</span>
            <span class="pill">Full-time</span>
            <span class="pill">Internships</span>
        </div>
    </div>

    <div class="job-list">
        {% for job in jobs %}
        <div class="job-card" style="background:white; border:1px solid #ddd; padding:20px; border-radius:8px; margin-bottom:15px; display:flex; gap:15px; align-items:start;">
            
            <div style="width:50px; height:50px; background:#f0f2f5; border-radius:8px; display:flex; align-items:center; justify-content:center; color:#555; font-weight:bold; font-size:20px; flex-shrink:0;">
                {{ job.company[0] }}
            </div>
            
            <div style="flex-grow:1;">
                <h3 style="margin:0 0 5px 0; font-size:18px;">
                    <a href="/job/{{ job.id }}" style="text-decoration:none; color:#333;">
                        {{ job.title }}
                    </a>
                </h3>
                <p style="margin:0 0 10px 0; color:#555; font-size:14px;">{{ job.company }} â€¢ {{ job.location }}</p>
                
                <div style="display:flex; gap:10px; margin-bottom:10px;">
                    <span style="background:#e3f2fd; color:#1976d2; padding:3px 8px; border-radius:4px; font-size:11px; font-weight:bold; text-transform:uppercase;">{{ job.job_type }}</span>
                    <span style="background:#f5f5f5; color:#666; padding:3px 8px; border-radius:4px; font-size:11px;">Posted {{ job.posted_date.strftime('%d %b') }}</span>
                </div>

                <p style="font-size:13px; color:#666; line-height:1.4;">{{ job.description }}</p>
            </div>

            <div style="min-width: 100px; text-align: right;">
                {% if job.id in applied_ids %}
                    <button disabled style="background:#eee; color:#155724; border:1px solid #ddd; padding:8px 15px; border-radius:5px; font-weight:bold; cursor:default;">
                        <i class="fas fa-check"></i> Applied
                    </button>
                {% else %}
                    <a href="/apply/{{ job.id }}" style="display:inline-block; border:1px solid #7DA68D; color:#7DA68D; background:white; font-weight:bold; padding:8px 15px; border-radius:5px; text-decoration:none;">
                        Apply
                    </a>
                {% endif %}
            </div>

        </div>
        {% else %}
            <p>No jobs found.</p>
        {% endfor %}
    </div>
</main>
{% endblock %}